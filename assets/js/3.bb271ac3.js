(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{304:function(e,t,n){"use strict";n(166),n(10),n(62),n(92);t.a={data:function(){return{embedded:!1}},mounted:function(){this.embedded=this.getParam("embedded")||!1},methods:{makeToast:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(t,{title:e,variant:n,solid:!0})},promisify:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((function(t,r){e.apply(void 0,n.concat([function(e,n){e?r(e):t(n)}]))}))},getParam:function(e){var t={};return window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,(function(e,n,r){t[n]=void 0!==r?r:""})),e?t[e]?t[e]:null:t}}}},307:function(e,t,n){"use strict";n(166),n(63),n(91),n(93),n(90);var r=n(41),a=n(308),o=n.n(a),i=n(309);t.a={data:function(){return{web3:null,web3Provider:null,metamask:{installed:!1,netId:null},network:{default:o.a.defaultNetwork,current:null,map:{1:"mainnet",3:"ropsten",4:"rinkeby",42:"kovan",5:"goerli"},list:{mainnet:{web3Provider:"https://mainnet.infura.io/v3/".concat(o.a.infuraProjectId),etherscanLink:"https://etherscan.io",id:1,name:"Main Ethereum Network"},ropsten:{web3Provider:"https://ropsten.infura.io/v3/".concat(o.a.infuraProjectId),etherscanLink:"https://ropsten.etherscan.io",id:3,name:"Ropsten Test Network"},rinkeby:{web3Provider:"https://rinkeby.infura.io/v3/".concat(o.a.infuraProjectId),etherscanLink:"https://rinkeby.etherscan.io",id:4,name:"Rinkeby Test Network"},kovan:{web3Provider:"https://kovan.infura.io/v3/".concat(o.a.infuraProjectId),etherscanLink:"https://kovan.etherscan.io",id:42,name:"Kovan Test Network"},goerli:{web3Provider:"https://goerli.infura.io/v3/".concat(o.a.infuraProjectId),etherscanLink:"https://goerli.etherscan.io",id:5,name:"Goerli Test Network"}}},contracts:{token:null},instances:{token:null}}},methods:{initWeb3:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(Object.prototype.hasOwnProperty.call(n.network.list,e)){r.next=2;break}throw new Error("Failed initializing network ".concat(e,". Allowed values are ").concat(Object.keys(n.network.list),"."));case 2:if(!t||void 0===window.ethereum){r.next=17;break}return console.log("injected ethereum"),n.web3Provider=window.ethereum,n.web3=new Web3(n.web3Provider),n.metamask.installed=n.web3Provider.isMetaMask,r.next=9,n.promisify(n.web3.eth.getChainId);case 9:if(a=r.sent,n.metamask.netId=a,a===n.network.list[e].id){r.next=15;break}return n.network.current=n.network.list[n.network.map[a]],r.next=15,n.initWeb3(e,!1);case 15:r.next=21;break;case 17:console.log("provided ethereum"),n.network.current=n.network.list[e],n.web3Provider=new Web3.providers.HttpProvider(n.network.list[e].web3Provider),n.web3=new Web3(n.web3Provider);case 21:case"end":return r.stop()}}),r)})))()},initContract:function(e){console.log("init ".concat(e," on ").concat(this.network.current.name)),this.instances.token=new this.web3.eth.Contract(i,e)}}}},308:function(e,t){e.exports={description:"Create a link to your ERC20 Token or an embeddable Widget for your Website. Add your Token to DApp browsers or MetaMask.",base:"/watch-token/",plugins:[["@vuepress/google-analytics",{ga:"UA-115756440-2"}]],head:[["link",{rel:"icon",href:"/favicon.ico"}],["meta",{property:"og:type",content:"website"}],["meta",{property:"og:url",content:"https://vittominacori.github.io/watch-token"}],["meta",{property:"og:image",content:"https://vittominacori.github.io/watch-token/assets/images/watch-token.jpg"}],["meta",{property:"twitter:card",content:"summary_large_image"}],["meta",{property:"twitter:image",content:"https://vittominacori.github.io/watch-token/assets/images/watch-token.jpg"}],["meta",{property:"twitter:title",content:"WatchToken | Create a Widget for your ERC20 Token"}],["script",{src:"/assets/js/web3.min.js"}]],defaultNetwork:"mainnet",infuraProjectId:"be402bb729b2472ba828e013468dc626"}},309:function(e){e.exports=JSON.parse('[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"}]')},314:function(e,t,n){"use strict";n.r(t);n(166),n(91),n(90);var r=n(41),a=n(304),o=n(307),i={name:"Detail",mixins:[a.a,o.a],data:function(){return{loaded:!1,loading:!0,tokenLink:"",tokenEmbed:"",currentNetwork:null,token:{}}},mounted:function(){this.currentNetwork=this.getParam("network")||this.network.default,this.initDapp()},methods:{initDapp:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.network.current=e.network.list[e.currentNetwork],t.prev=1,t.next=4,e.initWeb3(e.currentNetwork,!0);case 4:return t.next=6,e.getToken(e.getParam("address"));case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),alert(t.t0),document.location.href=e.$withBase("/");case 12:case"end":return t.stop()}}),t,null,[[1,8]])})))()},getToken:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!e){n.next=17;break}return t.token.address=e,t.initContract(t.token.address),n.next=5,t.promisify(t.instances.token.methods.name().call);case 5:return t.token.name=n.sent,n.next=8,t.promisify(t.instances.token.methods.symbol().call);case 8:return t.token.symbol=n.sent,n.next=11,t.promisify(t.instances.token.methods.decimals().call);case 11:t.token.decimals=n.sent.valueOf(),t.token.logo=t.getParam("logo")?decodeURIComponent(t.getParam("logo")):"",t.token.name&&t.token.symbol&&t.token.decimals?(t.loaded=!0,t.tokenLink=window.location.origin+t.$withBase("/detail.html?address=".concat(t.token.address,"&network=").concat(t.currentNetwork,"&logo=").concat(t.token.logo)),t.tokenEmbed='<iframe src="'.concat(t.tokenLink,'&embedded=1" style="border:none; overflow:hidden; width: 520px; max-width: 100%; height: 240px" scrolling="no" frameborder="0" allowTransparency="true"></iframe>')):(alert("It seems that it is not a valid Token or you are on the wrong network"),t.loaded=!1),t.loading=!1,n.next=18;break;case 17:document.location.href=t.$withBase("/");case 18:case"end":return n.stop()}}),n)})))()},watchToken:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.metamask.installed){t.next=5;break}return alert("Please install MetaMask and try again!"),t.abrupt("return");case 5:if(e.metamask.netId===e.network.current.id){t.next=8;break}return alert("Your MetaMask in on the wrong network. Please switch on ".concat(e.network.current.name," and try again!")),t.abrupt("return");case 8:return t.prev=8,t.next=11,e.web3Provider.request({method:"eth_requestAccounts"});case 11:return t.next=13,e.addToMetaMask();case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(8),console.log(t.t0);case 18:case"end":return t.stop()}}),t,null,[[8,15]])})))()},addToMetaMask:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.web3Provider.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e.token.address,symbol:e.token.symbol.substr(0,6),decimals:e.token.decimals,image:e.token.logo}}});case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.log(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},shareToken:function(){this.$refs.shareModal.show()}}},s=n(40),c=Object(s.a)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b-row",{staticClass:"p-0 pt-4"},[e.loading?n("b-col",{attrs:{lg:"6","offset-lg":"3"}},[n("b-card",{attrs:{"bg-variant":"light"}},[n("ui--loader",{attrs:{loading:e.loading}})],1)],1):e._e(),e._v(" "),e.loading||e.loaded?e._e():n("b-col",{attrs:{lg:"6","offset-lg":"3"}},[n("b-card",{attrs:{"bg-variant":"light"}},[n("blockquote",[e._v("Some error occurred")]),e._v(" "),n("router-link",{attrs:{to:e.$withBase("create.html")}},[e._v("Try adding your token")])],1)],1),e._v(" "),e.loaded?n("b-col",{staticClass:"mt-4 p-0",attrs:{lg:"6","offset-lg":"3"}},[n("b-card",{attrs:{"footer-class":"p-0"}},[n("b-media",[e.token.logo?n("b-img",{attrs:{slot:"aside",src:e.token.logo,rounded:"circle",width:"48",height:"48",alt:e.token.name},slot:"aside"}):e._e(),e._v(" "),n("h4",{staticClass:"card-title"},[e._v(e._s(e.token.name)+" ("+e._s(e.token.symbol)+")")]),e._v(" "),n("h6",{staticClass:"card-subtitle text-muted token-address"},[e._v(e._s(e.token.address))]),e._v(" "),n("small",{staticClass:"text-muted"},[e._v("Decimals: "+e._s(e.token.decimals))])],1),e._v(" "),n("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[n("b-button",{staticClass:"text-secondary",attrs:{variant:"link"},on:{click:e.watchToken}},[n("small",[e._v("Add to MetaMask")])]),e._v(" "),n("b-button",{staticClass:"text-secondary",attrs:{variant:"link",href:this.network.current.etherscanLink+"/token/"+e.token.address,target:"_blank"}},[n("small",[e._v("View on Etherscan")])])],1)],1),e._v(" "),n("b-modal",{ref:"shareModal",attrs:{"hide-footer":"",title:"Share "+e.token.name+" page"}},[n("b-row",[n("b-col",{attrs:{lg:"12"}},[n("b-form-group",{attrs:{label:"Share link","label-for":"tokenLink"}},[n("b-form-input",{attrs:{id:"tokenLink",name:"tokenLink",placeholder:"Your token link",size:"lg",readonly:""},model:{value:e.tokenLink,callback:function(t){e.tokenLink="string"==typeof t?t.trim():t},expression:"tokenLink"}})],1)],1),e._v(" "),n("b-col",{attrs:{lg:"12"}},[n("b-form-group",{attrs:{label:"Embed code","label-for":"tokenEmbed"}},[n("b-form-input",{attrs:{id:"tokenEmbed",name:"tokenEmbed",placeholder:"Your token embed",size:"lg",readonly:""},model:{value:e.tokenEmbed,callback:function(t){e.tokenEmbed="string"==typeof t?t.trim():t},expression:"tokenEmbed"}})],1)],1)],1)],1)],1):e._e(),e._v(" "),n("b-col",{staticClass:"text-right p-0 pr-2",attrs:{lg:"6","offset-lg":"3"}},[e.embedded?n("b-link",{attrs:{href:e.$withBase("/"),target:"_blank"}},[n("small",{staticClass:"text-muted"},[e._v("Powered by WatchToken")])]):n("b-link",{on:{click:e.shareToken}},[n("small",{staticClass:"text-white"},[e._v("Share or Embed")])])],1)],1)}),[],!1,null,null,null);t.default=c.exports}}]);